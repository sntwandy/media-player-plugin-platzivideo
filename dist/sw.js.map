{"version":3,"sources":["sw.js"],"names":["VERSION","self","addEventListener","event","waitUntil","precache","request","method","respondWith","cachedResponse","updateCache","caches","open","cache","addAll","match","response","fetch","put"],"mappings":";;;;AAAA,IAAMA,OAAO,GAAG,IAAhB;AAEAC,IAAI,CAACC,gBAAL,CAAsB,SAAtB,EAAiC,UAAAC,KAAK,EAAI;AACtCA,EAAAA,KAAK,CAACC,SAAN,CAAgBC,QAAQ,EAAxB;AACH,CAFD;AAIAJ,IAAI,CAACC,gBAAL,CAAsB,OAAtB,EAA+B,UAAAC,KAAK,EAAI;AACpC,MAAMG,OAAO,GAAGH,KAAK,CAACG,OAAtB,CADoC,CAEpC;;AACA,MAAGA,OAAO,CAACC,MAAR,IAAkB,KAArB,EAA4B;AACxB;AACH,GALmC,CAMpC;;;AACAJ,EAAAA,KAAK,CAACK,WAAN,CAAkBC,cAAc,CAACH,OAAD,CAAhC,EAPoC,CASpC;;AACAH,EAAAA,KAAK,CAACC,SAAN,CAAgBM,WAAW,CAACJ,OAAD,CAA3B;AACH,CAXD;;SAaeD;;;;;sEAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBACwBM,MAAM,CAACC,IAAP,CAAYZ,OAAZ,CADxB;;AAAA;AACUa,YAAAA,KADV;AAAA,6CAGWA,KAAK,CAACC,MAAN,CAAa,CAChB,GADgB,EAEhB,aAFgB,EAGhB,kBAHgB,EAIhB,wBAJgB,EAKhB,6BALgB,EAMhB,8BANgB,EAOhB,mBAPgB,EAQhB,0BARgB,CAAb,CAHX;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;AAaC;;SAEcL;;;;;4EAAf,kBAA8BH,OAA9B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBACwBK,MAAM,CAACC,IAAP,CAAYZ,OAAZ,CADxB;;AAAA;AACUa,YAAAA,KADV;AAAA;AAAA,mBAE2BA,KAAK,CAACE,KAAN,CAAYT,OAAZ,CAF3B;;AAAA;AAEUU,YAAAA,QAFV;AAAA,8CAGWA,QAAQ,IAAIC,KAAK,CAACX,OAAD,CAH5B;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;AAIC;;SAEcI;;;;;yEAAf,kBAA2BJ,OAA3B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBACwBK,MAAM,CAACC,IAAP,CAAYZ,OAAZ,CADxB;;AAAA;AACUa,YAAAA,KADV;AAAA;AAAA,mBAE2BI,KAAK,CAACX,OAAD,CAFhC;;AAAA;AAEUU,YAAAA,QAFV;AAAA,8CAGWH,KAAK,CAACK,GAAN,CAAUZ,OAAV,EAAmBU,QAAnB,CAHX;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;AAIC","file":"sw.js","sourceRoot":"..","sourcesContent":["const VERSION = 'v1';\n\nself.addEventListener('install', event => {\n    event.waitUntil(precache());\n});\n\nself.addEventListener('fetch', event => {\n    const request = event.request;\n    // get\n    if(request.method != 'GET') {\n        return;\n    }\n    // search in cache\n    event.respondWith(cachedResponse(request));\n\n    // update cache\n    event.waitUntil(updateCache(request));\n});\n\nasync function precache() {\n    const cache = await caches.open(VERSION);\n\n    return cache.addAll([\n        '/',\n        '/index.html',\n        '/assets/index.js',\n        '/assets/MediaPlayer.js',\n        '/assets/plugins/AutoPlay.js',\n        '/assets/plugins/AutoPause.js',\n        '/assets/index.css',\n        '/assets/BigBuckBunny.mp4',\n    ]);\n};\n\nasync function cachedResponse(request) {\n    const cache = await caches.open(VERSION);\n    const response = await cache.match(request);\n    return response || fetch(request);\n};\n\nasync function updateCache(request) {\n    const cache = await caches.open(VERSION);\n    const response = await fetch(request);\n    return cache.put(request, response);\n};"]}